<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Life: Idle RPG</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>

<body>
    <div id="app">
        <header class="game-header">
            <div>
                <h1>Modern Life <span class="subtitle">Idle RPG</span></h1>
                <div id="news-feed" class="news-ticker">üì∞ Connecting to world...</div>
            </div>
            <div id="clock-display" class="clock">Day 1 - 08:00</div>
        </header>

        <main class="game-container">
            <!-- Left Column: Status -->
            <section class="panel status-panel">
                <h2>üë§ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£</h2>
                <div class="stat-group">
                    <div class="stat-item money-stat">
                        <span class="icon">üí∞</span>
                        <div class="stat-info">
                            <span class="label">‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î</span>
                            <span id="money-val" class="value">0 ‡∏ø</span>
                        </div>
                    </div>
                </div>

                <div class="stat-bars">
                    <div class="stat-bar-container">
                        <div class="label-row">
                            <span>‚ö° ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô</span>
                            <span id="energy-text">100/100</span>
                        </div>
                        <div class="progress-bar">
                            <div id="energy-bar" class="fill energy" style="width: 100%;"></div>
                        </div>
                    </div>

                    <div class="stat-bar-container">
                        <div class="label-row">
                            <span>üòñ ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î</span>
                            <span id="stress-text">0/100</span>
                        </div>
                        <div class="progress-bar">
                            <div id="stress-bar" class="fill stress" style="width: 0%;"></div>
                        </div>
                    </div>
                    <div class="stat-bar-container">
                        <div class="label-row">
                            <span>‚ù§Ô∏è ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</span>
                            <span id="health-text">100/100</span>
                        </div>
                        <div class="progress-bar">
                            <div id="health-bar" class="fill health" style="width: 100%;"></div>
                        </div>
                    </div>

                    <!-- Quick Inventory Access -->
                    <div id="quick-inventory" style="margin-top:12px;">
                        <button id="btn-quick-bag" class="small-btn" style="width:100%; margin-bottom:8px;">
                            üéí ‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤
                        </button>
                        <div id="quick-items" style="display:none; gap:6px; flex-wrap:wrap;">
                            <!-- Quick use items will be injected here -->
                        </div>
                    </div>
                </div>

                <div class="job-status">
                    <h3>üè¢ ‡∏á‡∏≤‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</h3>
                    <div id="current-job-info">
                        <p class="job-title">‡∏ß‡πà‡∏≤‡∏á‡∏á‡∏≤‡∏ô</p>
                        <p class="job-income">‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ: 0 ‡∏ø/‡∏ß‡∏¥</p>
                    </div>
                    <div class="job-progress">
                        <div id="work-progress-bar" class="fill work" style="width: 0%;"></div>
                    </div>
                    <p id="work-status-text" class="status-subtext">‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</p>
                </div>
            </section>

            <!-- Middle Column: Map Navigation -->
            <section class="panel action-panel">
                <h2>üó∫Ô∏è ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏°‡∏∑‡∏≠‡∏á</h2>

                <!-- Map Grid -->
                <div id="map-grid" class="map-grid">
                    <!-- Location cards will be injected by JS -->
                </div>

                <!-- Current Location Panel (shows when location selected) -->
                <div id="location-panel" class="location-panel hidden">
                    <div class="location-header">
                        <h3 id="location-title">üè† ‡∏ö‡πâ‡∏≤‡∏ô</h3>
                        <button id="back-to-map" class="small-btn">‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà</button>
                    </div>
                    <div id="location-submenu" class="location-submenu">
                        <!-- Sub-menu items will be injected by JS -->
                    </div>
                </div>

                <!-- Sub-panels (shown inside location or standalone) -->
                <div id="sub-panels" class="hidden">
                    <div id="panel-activities" class="sub-panel hidden">
                        <div class="action-grid" id="activity-grid">
                            <!-- Populated by JS -->
                        </div>
                    </div>

                    <div id="panel-shop" class="sub-panel hidden">
                        <h4>üè™ ‡∏£‡πâ‡∏≤‡∏ô‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡∏ã‡∏∑‡πâ‡∏≠</h4>
                        <div id="shop-list" class="action-grid">
                            <!-- Populated by JS -->
                        </div>
                    </div>

                    <div id="panel-inventory" class="sub-panel hidden">
                        <h4>üéí ‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</h4>
                        <div id="inventory-list" class="action-grid">
                            <!-- Populated by JS -->
                        </div>
                    </div>

                    <div id="panel-skills" class="sub-panel hidden">
                        <h4>üìö ‡∏ó‡∏±‡∏Å‡∏©‡∏∞</h4>
                        <div id="skills-summary" class="action-grid">
                            <!-- Skill bars populated by JS -->
                        </div>
                    </div>

                    <div id="panel-courses" class="sub-panel hidden">
                        <h4>üìñ ‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h4>
                        <div id="courses-list" class="action-grid">
                            <!-- Courses populated by JS -->
                        </div>
                    </div>

                    <div id="panel-housing" class="sub-panel hidden">
                        <h4>üè† ‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏Å‡∏≠‡∏≤‡∏®‡∏±‡∏¢</h4>
                        <div id="current-housing" class="housing-current"
                            style="padding:10px; background:rgba(255,255,255,0.05); border-radius:8px; margin-bottom:12px;">
                        </div>
                        <div id="housing-list" class="action-list">
                        </div>
                    </div>

                    <div id="panel-bank" class="sub-panel hidden">
                        <h4>üè¶ ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£</h4>
                        <div id="bank-info"
                            style="background:var(--bg-color); padding:12px; border-radius:8px; margin-bottom:12px;">
                        </div>
                        <div id="bank-actions" style="display:grid; grid-template-columns:1fr 1fr; gap:8px;">
                        </div>
                    </div>

                    <div id="panel-stocks" class="sub-panel hidden">
                        <h4>üìà ‡∏ï‡∏•‡∏≤‡∏î‡∏´‡∏∏‡πâ‡∏ô</h4>
                        <div id="portfolio-info"
                            style="background:var(--bg-color); padding:12px; border-radius:8px; margin-bottom:12px;">
                        </div>
                        <div id="stock-list" class="action-list">
                        </div>
                    </div>

                    <div id="panel-jobs" class="sub-panel hidden">
                        <h4>üíº ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏á‡∏≤‡∏ô</h4>
                        <div id="job-list" class="action-list">
                        </div>
                    </div>

                    <div id="panel-gigs" class="sub-panel hidden">
                        <h4>‚ö° ‡∏á‡∏≤‡∏ô‡∏ü‡∏£‡∏µ‡πÅ‡∏•‡∏ô‡∏ã‡πå (AI)</h4>
                        <button id="refresh-gigs-btn" class="action-btn"
                            style="width:100%; margin-bottom:12px; justify-content:center;">
                            <span class="icon">üîÑ</span>
                            <span class="name">‡∏´‡∏≤‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà AI Generate</span>
                        </button>
                        <div id="gig-list" class="action-list">
                            <div class="status-subtext" style="text-align:center; padding:10px;">‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏á‡∏≤‡∏ô...
                            </div>
                        </div>
                    </div>

                    <div id="panel-furniture-shop" class="sub-panel hidden">
                        <h4>üõãÔ∏è ‡∏£‡πâ‡∏≤‡∏ô‡πÄ‡∏ü‡∏≠‡∏£‡πå‡∏ô‡∏¥‡πÄ‡∏à‡∏≠‡∏£‡πå</h4>
                        <div id="furniture-shop-list" class="action-list">
                            <!-- Furniture items will be injected here -->
                        </div>
                    </div>

                    <div id="panel-my-furniture" class="sub-panel hidden">
                        <h4>üè† ‡πÄ‡∏ü‡∏≠‡∏£‡πå‡∏ô‡∏¥‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÉ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô</h4>
                        <div id="my-furniture-list" class="action-list">
                            <!-- Owned furniture will be shown here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Right Column: Log & Inventory -->
            <section class="panel misc-panel">
                <div class="log-container">
                    <h2>üìù ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï</h2>
                    <ul id="game-log" class="log-list">
                        <li class="log-item">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡∏°‡πà... ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏à‡∏£‡∏¥‡∏á</li>
                    </ul>
                </div>

                <div class="settings-container">
                    <button id="btn-save" class="small-btn">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                    <button id="btn-reset" class="small-btn danger">üóëÔ∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
                    <button id="btn-call-friend" class="small-btn" style="background:var(--accent);">üìû
                        ‡πÇ‡∏ó‡∏£‡∏´‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô</button>
                </div>
            </section>
        </main>
    </div>

    <!-- Event Modal -->
    <div id="event-modal" class="modal hidden">
        <div class="modal-content">
            <h2 id="modal-title">Title</h2>
            <p id="modal-desc">Description</p>
            <div id="modal-effects" class="modal-effects"></div>
            <button id="modal-close">‡∏ï‡∏Å‡∏•‡∏á</button>
        </div>
    </div>

    <!-- Offline Modal -->
    <div id="offline-modal" class="modal hidden">
        <div class="modal-content">
            <h2>‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏Å‡∏•‡∏±‡∏ö!</h2>
            <p>‡∏Ç‡∏ì‡∏∞‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏π‡πà...</p>
            <div id="offline-details" class="offline-details">
                <!-- Details injected here -->
            </div>
            <button id="offline-close">‡∏ï‡∏Å‡∏•‡∏á</button>
        </div>
    </div>

    <!-- Friend Call Modal -->
    <div id="friend-modal" class="modal hidden">
        <div class="modal-content" style="max-width:350px;">
            <div id="friend-status" style="text-align:center; padding:20px;">
                <div style="font-size:3rem;">üìû</div>
                <p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏ó‡∏£...</p>
            </div>
            <div id="friend-chat" class="hidden" style="padding:12px;">
                <div style="display:flex; align-items:center; gap:10px; margin-bottom:12px;">
                    <div
                        style="width:40px; height:40px; background:var(--accent); border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:1.2rem;">
                        üë§</div>
                    <div>
                        <div id="friend-name" style="font-weight:bold; color:var(--accent);">‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô</div>
                        <div style="font-size:0.8rem; color:#888;">Online</div>
                    </div>
                </div>
                <div id="friend-message"
                    style="background:rgba(78,204,163,0.1); padding:12px; border-radius:12px; border-top-left-radius:0; margin-bottom:12px; line-height:1.5;">
                </div>
                <div id="friend-api-status" style="font-size:0.75rem; color:var(--success); text-align:center;">‚úÖ AI
                    ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</div>
            </div>
            <div id="friend-error" class="hidden" style="text-align:center; padding:20px; color:var(--stress);">
                <div style="font-size:2rem;">‚ùå</div>
                <p id="friend-error-msg">‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏°‡πà‡∏£‡∏±‡∏ö‡∏™‡∏≤‡∏¢</p>
            </div>
            <button id="friend-close" style="margin-top:12px;">‡∏ß‡∏≤‡∏á‡∏™‡∏≤‡∏¢</button>
        </div>
    </div>

    <script type="module" src="main.js"></script>
</body>

</html>